name: Check Pull Request

on:
  pull_request:
    types:
      - opened
      - synchronize

jobs:
  check_pull_request:
    runs-on: ubuntu-latest

    steps:
      - name: Check Pull Request Branches
        run: |
          PR_BASE_BRANCH=$(curl -sSL https://api.github.com/repos/${{ github.repository }}/pulls/${{ github.event.number }} | jq -r '.base.ref')
          PR_HEAD_BRANCH=$(curl -sSL https://api.github.com/repos/${{ github.repository }}/pulls/${{ github.event.number }} | jq -r '.head.ref')
          echo "${PR_BASE_BRANCH}"
          echo "${PR_HEAD_BRANCH}"

          if [ "$PR_BASE_BRANCH" = "develop" ] && [ "$PR_HEAD_BRANCH" = "master" ]; then
            echo "This is a pull request from master to develop."
          else
            echo "This is not a pull request from master to develop."
            exit 1
          fi
